<div class="container">
  <mat-accordion multi="false">

    <mat-expansion-panel
      *ngFor="let employee of getEmployees()"
      class="mat-elevation-z0"
      (opened)="panelOpen(employee)"
    >
      <mat-expansion-panel-header>
        <div class="employee-table-emp">
          <div><img *ngIf="employee.avatar" [src]="employee.avatar"/></div>
        </div>
        <div class="employee-info">
          <div>
            <div class="employee-name">
              <span class="name">{{employee.firstName}} {{employee.lastName}}</span>
              <span>{{employee.department}}</span>
            </div>
          </div>
          <div>
            <span class="text-detail">{{employee.email}}</span>
          </div>
        </div>
      </mat-expansion-panel-header>
      <div>
        <ng-template matExpansionPanelContent>
          <div class="mat-spinner-wrapper center" *ngIf="employeeStatsLoading">
            <lib-khaki-spinner></lib-khaki-spinner>
          </div>
          <div *ngIf="!employeeStatsLoading">
            <div>
              {{interval | intervalTextDetail: start: end}}
            </div>
            <div>
              Total Time: {{selectedEmployeeStats.totalSeconds | hoursMinutes}}
            </div>
            <div>
              Meetings: {{selectedEmployeeStats.meetingCount}}
            </div>
          </div>
        </ng-template>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
  <div class="arrows">
    <mat-icon [ngClass]="{'disable': isLast()}" class="down arrow" (click)="moveDown()">keyboard_arrow_right</mat-icon>
    <mat-icon [ngClass]="{'disable': isFirst()}" class="up arrow" (click)="moveUp()">keyboard_arrow_right</mat-icon>
  </div>
</div>
